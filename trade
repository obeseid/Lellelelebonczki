-- LocalScript - Place inside StarterPlayer > StarterPlayerScripts or StarterGui

local Players = game:GetService("Players")
local player = Players.LocalPlayer

-- Wait for PlayerGui
local playerGui = player:WaitForChild("PlayerGui")

-- Create a ScreenGui for the button
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "FreezeTradeButton"
screenGui.ResetOnSpawn = false
screenGui.Parent = playerGui

-- Create the button
local button = Instance.new("TextButton")
button.Name = "FreezeButton"
button.Size = UDim2.new(0, 150, 0, 40)
button.Position = UDim2.new(0.5, -75, 0.5, -20)
button.AnchorPoint = Vector2.new(0.5, 0.5)
button.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
button.BorderSizePixel = 2
button.BorderColor3 = Color3.fromRGB(255, 255, 255)
button.Text = "Freeze Trade GUI"
button.TextColor3 = Color3.fromRGB(255, 255, 255)
button.TextSize = 14
button.Font = Enum.Font.GothamBold
button.Active = true
button.Draggable = true
button.Parent = screenGui

-- Add corner rounding
local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 6)
corner.Parent = button

-- Function to freeze the trading GUI
local function freezeTradingGui()
	-- Try to find the trading GUI
	local menusFolder = playerGui:FindFirstChild("Menus")
	if not menusFolder then
		warn("Menus folder not found!")
		return
	end
	
	local tradingGui = menusFolder:FindFirstChild("Trading")
	if not tradingGui then
		warn("Trading GUI not found!")
		return
	end
	
	if not tradingGui.Visible then
		warn("Trading GUI is not visible!")
		return
	end
	
	-- Clone the trading GUI
	print("Cloning and freezing Trading GUI for 11 seconds...")
	local clonedGui = tradingGui:Clone()
	
	-- Disable all interactive elements in the clone
	for _, descendant in pairs(clonedGui:GetDescendants()) do
		if descendant:IsA("GuiButton") or descendant:IsA("TextButton") or descendant:IsA("ImageButton") then
			descendant.Active = false
		end
	end
	
	-- Optional: Add visual feedback to the clone
	local statusLabel = clonedGui:FindFirstChild("StatusLabel", true)
	if statusLabel and statusLabel:IsA("TextLabel") then
		statusLabel.Text = "GUI Frozen - Closing in 11 seconds..."
	end
	
	-- Parent the clone to PlayerGui (it will appear in the same position)
	clonedGui.Parent = playerGui
	clonedGui.Visible = true
	
	-- Hide the original trading GUI
	tradingGui.Visible = false
	
	-- Change button appearance to show it's active
	button.Text = "Freezing... (11s)"
	button.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
	button.Active = false
	
	-- Wait 11 seconds
	task.wait(11)
	
	-- Destroy the cloned GUI
	clonedGui:Destroy()
	
	-- Reset button
	button.Text = "Freeze Trade GUI"
	button.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
	button.Active = true
	
	print("Cloned Trading GUI destroyed!")
end

-- Connect button click
button.MouseButton1Click:Connect(function()
	freezeTradingGui()
end)

print("Freeze Trade GUI button created!")
