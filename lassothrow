local ReplicatedStorage = game:GetService("ReplicatedStorage")
local RunService = game:GetService("RunService")

local References = require(ReplicatedStorage:WaitForChild("References"))
local CharacterHandler = require(References.PlayerScripts.Priority:WaitForChild("CharacterHandler"))

-- âœ… Correct path you provided
local LassoModule = require(game:GetService("StarterPlayer")
    .StarterPlayerScripts
    .Classes
    .Equipment
    .Controllers
    .Lasso)

local cooldown = 0.45 -- change lower for faster throws
local lastThrow = 0

RunService.RenderStepped:Connect(function()
    local now = tick()
    if now - lastThrow < cooldown then return end

    local activeObject = CharacterHandler.object
    if not activeObject then return end

    local toolData = activeObject.toolData
    if not toolData or not toolData.lasso then return end

    local target, pos = LassoModule.GetTarget(toolData)
    if target and pos then
        toolData:Throw(pos)
        lastThrow = now
    end
end)
