-- LocalScript: Clone ItemFrame into CategoryContainer lists
-- Works anywhere client-side

local Players = game:GetService("Players")
local player = Players.LocalPlayer

-- Wait for Backpack GUI
local menus = player:WaitForChild("PlayerGui"):WaitForChild("Menus")
local backpack = menus:WaitForChild("Backpack")
local contentList = backpack:WaitForChild("Inventory")
	:WaitForChild("Content")
	:WaitForChild("List")

-- Grab the ItemFrame template from your module
local invModuleScript = player:WaitForChild("PlayerScripts")
	:WaitForChild("Secondary")
	:WaitForChild("InventoryMenu")
local itemTemplate = invModuleScript:WaitForChild("ItemFrame")

-- Loop through each CategoryContainer
for _, category in ipairs(contentList:GetChildren()) do
	if category:IsA("Frame") then
		local listFrame = category:FindFirstChild("List")
		if listFrame and listFrame:IsA("Frame") then
			-- Check if list has at least one TextButton
			local hasButton = false
			for _, child in ipairs(listFrame:GetChildren()) do
				if child:IsA("TextButton") then
					hasButton = true
					break
				end
			end

			if hasButton then
				-- Clone ItemFrame into this list
				local clone = itemTemplate:Clone()
				clone.Name = "ItemFrame_Test"
				clone.Parent = listFrame

				-- Update NameLabel
				local label = clone:FindFirstChild("NameLabel")
				if label and label:IsA("TextLabel") then
					label.Text = "Friesian Horse (v1)"
				end
			end
		end
	end
end

print("âœ… Cloned ItemFrame into all eligible CategoryContainer lists!")
