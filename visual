-- Roblox Client-Sided Item Cloner Script
-- Path: Players.username.PlayerGui.Menus.Backpack.Main.Inventory.Content.List

local Players = game:GetService("Players")
local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- Function to generate a random GUID format string
local function generateGUID()
    local template = "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"
    local guid = string.gsub(template, "x", function()
        return string.format("%x", math.random(0, 15))
    end)
    return "{" .. guid .. "}"
end

-- Navigate to the List frame
local menusPath = playerGui:WaitForChild("Menus")
local backpackPath = menusPath:WaitForChild("Backpack")
local mainPath = backpackPath:WaitForChild("Main")
local inventoryPath = mainPath:WaitForChild("Inventory")
local contentPath = inventoryPath:WaitForChild("Content")
local listPath = contentPath:WaitForChild("List")

print("Successfully navigated to List frame")

-- Iterate through all CategoryContainer frames
for _, categoryContainer in pairs(listPath:GetChildren()) do
    if categoryContainer:IsA("Frame") and categoryContainer.Name == "CategoryContainer" then
        print("Found CategoryContainer")
        
        -- Find the List frame inside CategoryContainer
        local innerList = categoryContainer:FindFirstChild("List")
        if innerList and innerList:IsA("Frame") then
            print("Found inner List frame in CategoryContainer")
            print("Searching for TextButtons...")
            
            -- Find all TextButtons in the inner List
            local textButtons = {}
            for _, child in pairs(innerList:GetChildren()) do
                if child:IsA("TextButton") then
                    table.insert(textButtons, child)
                    print("  Found TextButton: " .. child.Name)
                end
            end
            
            -- Clone each TextButton 20 times
            if #textButtons > 0 then
                print("Found " .. #textButtons .. " TextButton(s). Cloning each 20 times...")
                
                for _, button in pairs(textButtons) do
                    print("Cloning TextButton: " .. button.Name)
                    
                    for i = 1, 20 do
                        local clone = button:Clone()
                        clone.Name = generateGUID()
                        clone.Parent = innerList
                        
                        -- Force visibility and layout update
                        clone.Visible = true
                        clone.LayoutOrder = button.LayoutOrder + i
                        
                        -- Small delay to ensure proper rendering
                        task.wait(0.01)
                        
                        print("  Cloned #" .. i .. " with name: " .. clone.Name)
                    end
                end
                
                print("Successfully cloned all TextButtons!")
            else
                print("No TextButtons found in this List frame")
            end
        else
            print("No List frame found in this CategoryContainer")
        end
    end
end

print("Script execution completed!")
