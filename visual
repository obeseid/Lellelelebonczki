local Players = game:GetService("Players")
local player = Players.LocalPlayer

-- Wait for main list
local function waitForMainList()
    local menus
    repeat
        menus = player:FindFirstChild("PlayerGui"):FindFirstChild("Menus")
        task.wait(0.1)
    until menus and menus:IsA("ScreenGui")

    local backpack
    repeat
        backpack = menus:FindFirstChild("Backpack")
        task.wait(0.1)
    until backpack and backpack:IsA("Frame")

    local main
    repeat
        main = backpack:FindFirstChild("Main")
        task.wait(0.1)
    until main and main:IsA("Frame")

    local inventory, content, mainList
    repeat
        inventory = main:FindFirstChild("Inventory")
        content = inventory and inventory:FindFirstChild("Content")
        mainList = content and content:FindFirstChild("List")
        task.wait(0.1)
    until mainList and mainList:IsA("Frame")

    return mainList
end

local mainList = waitForMainList()

-- Loop through all CategoryContainers
for _, category in ipairs(mainList:GetChildren()) do
    if category:IsA("Frame") then
        local catList = category:FindFirstChild("List")
        local hasButton = false

        if catList and catList:IsA("Frame") then
            for _, child in ipairs(catList:GetChildren()) do
                if child:IsA("TextButton") then
                    hasButton = true
                    break
                end
            end
        end

        -- Delete the CategoryContainer if no TextButton exists
        if not hasButton then
            category:Destroy()
            print("Deleted empty CategoryContainer")
        end
    end
end

print("âœ… Removed all CategoryContainers without TextButtons")
