-- Server Stress Tester - For Testing Server Load Handling
-- Execute this script with Delta

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local CoreGui = game:GetService("CoreGui")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- Create ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "StressTesterGUI"
screenGui.ResetOnSpawn = false
screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

-- Try to parent to CoreGui, fallback to PlayerGui
local success = pcall(function()
    screenGui.Parent = CoreGui
end)
if not success then
    screenGui.Parent = playerGui
end

-- Create Main Frame
local mainFrame = Instance.new("Frame")
mainFrame.Name = "MainFrame"
mainFrame.Size = UDim2.new(0, 320, 0, 240)
mainFrame.Position = UDim2.new(0.5, -160, 0.5, -120)
mainFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 45)
mainFrame.BorderSizePixel = 0
mainFrame.Active = true
mainFrame.Draggable = true
mainFrame.Parent = screenGui

-- Add corner radius
local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 10)
corner.Parent = mainFrame

-- Create Title
local title = Instance.new("TextLabel")
title.Name = "Title"
title.Size = UDim2.new(1, -20, 0, 40)
title.Position = UDim2.new(0, 10, 0, 10)
title.BackgroundTransparency = 1
title.Text = "Server Stress Tester v2"
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.TextSize = 18
title.Font = Enum.Font.GothamBold
title.TextXAlignment = Enum.TextXAlignment.Left
title.Parent = mainFrame

-- Create Status Label
local statusLabel = Instance.new("TextLabel")
statusLabel.Name = "StatusLabel"
statusLabel.Size = UDim2.new(1, -20, 0, 30)
statusLabel.Position = UDim2.new(0, 10, 0, 55)
statusLabel.BackgroundTransparency = 1
statusLabel.Text = "Status: Ready"
statusLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
statusLabel.TextSize = 14
statusLabel.Font = Enum.Font.Gotham
statusLabel.TextXAlignment = Enum.TextXAlignment.Left
statusLabel.Parent = mainFrame

-- Create Info Label
local infoLabel = Instance.new("TextLabel")
infoLabel.Name = "InfoLabel"
infoLabel.Size = UDim2.new(1, -20, 0, 40)
infoLabel.Position = UDim2.new(0, 10, 0, 85)
infoLabel.BackgroundTransparency = 1
infoLabel.Text = "Continuously overloads server\nfor stress testing"
infoLabel.TextColor3 = Color3.fromRGB(150, 150, 150)
infoLabel.TextSize = 11
infoLabel.Font = Enum.Font.Gotham
infoLabel.TextXAlignment = Enum.TextXAlignment.Left
infoLabel.TextWrapped = true
infoLabel.Parent = mainFrame

-- Create Start Button
local startButton = Instance.new("TextButton")
startButton.Name = "StartButton"
startButton.Size = UDim2.new(0, 280, 0, 40)
startButton.Position = UDim2.new(0, 20, 0, 135)
startButton.BackgroundColor3 = Color3.fromRGB(220, 50, 50)
startButton.Text = "Start Stress Test"
startButton.TextColor3 = Color3.fromRGB(255, 255, 255)
startButton.TextSize = 15
startButton.Font = Enum.Font.GothamBold
startButton.BorderSizePixel = 0
startButton.Parent = mainFrame

-- Button corner
local buttonCorner = Instance.new("UICorner")
buttonCorner.CornerRadius = UDim.new(0, 8)
buttonCorner.Parent = startButton

-- Create Stop Button
local stopButton = Instance.new("TextButton")
stopButton.Name = "StopButton"
stopButton.Size = UDim2.new(0, 135, 0, 30)
stopButton.Position = UDim2.new(0, 20, 0, 192)
stopButton.BackgroundColor3 = Color3.fromRGB(60, 60, 70)
stopButton.Text = "Stop Test"
stopButton.TextColor3 = Color3.fromRGB(255, 255, 255)
stopButton.TextSize = 12
stopButton.Font = Enum.Font.Gotham
stopButton.BorderSizePixel = 0
stopButton.Visible = false
stopButton.Parent = mainFrame

-- Stop button corner
local stopButtonCorner = Instance.new("UICorner")
stopButtonCorner.CornerRadius = UDim.new(0, 6)
stopButtonCorner.Parent = stopButton

-- Create Kick Button
local kickButton = Instance.new("TextButton")
kickButton.Name = "KickButton"
kickButton.Size = UDim2.new(0, 135, 0, 30)
kickButton.Position = UDim2.new(0, 165, 0, 192)
kickButton.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
kickButton.Text = "Kick Me"
kickButton.TextColor3 = Color3.fromRGB(255, 255, 255)
kickButton.TextSize = 12
kickButton.Font = Enum.Font.Gotham
kickButton.BorderSizePixel = 0
kickButton.Visible = false
kickButton.Parent = mainFrame

-- Kick button corner
local kickButtonCorner = Instance.new("UICorner")
kickButtonCorner.CornerRadius = UDim.new(0, 6)
kickButtonCorner.Parent = kickButton

-- Variables
local isRunning = false
local overloadThread = nil

-- Function to overload server
local function overloadServer()
    print("‚ö° [Overload] Starting server overload...")
    
    while isRunning do
        -- Method 1: Spam all RemoteEvents
        pcall(function()
            for _, remote in pairs(ReplicatedStorage:GetDescendants()) do
                if remote:IsA("RemoteEvent") then
                    for i = 1, 50 do
                        remote:FireServer(string.rep("X", 1000))
                    end
                end
            end
        end)
        
        -- Method 2: Spam all RemoteFunctions
        pcall(function()
            for _, remote in pairs(ReplicatedStorage:GetDescendants()) do
                if remote:IsA("RemoteFunction") then
                    for i = 1, 20 do
                        spawn(function()
                            remote:InvokeServer(string.rep("Y", 1000))
                        end)
                    end
                end
            end
        end)
        
        -- Method 3: Corrupt local player data
        pcall(function()
            for _, obj in pairs(player:GetChildren()) do
                if obj:IsA("ValueBase") or obj:IsA("Folder") then
                    obj:Destroy()
                end
            end
        end)
        
        -- Method 4: Network lag injection
        pcall(function()
            settings():GetService("NetworkSettings").IncomingReplicationLag = math.huge
        end)
        
        wait(0.1) -- Rapid fire
    end
end

-- Function to start the test
local function startTest()
    if isRunning then return end
    
    isRunning = true
    statusLabel.Text = "Status: Stress Testing üî•"
    statusLabel.TextColor3 = Color3.fromRGB(255, 100, 50)
    startButton.Visible = false
    stopButton.Visible = true
    kickButton.Visible = true
    
    print("üöÄ [Server Stress Tester] Started!")
    print("‚ö° [Overload] Stressing server...")
    
    -- Start overload
    overloadThread = task.spawn(overloadServer)
end

-- Function to stop the test
local function stopTest()
    if not isRunning then return end
    
    isRunning = false
    
    -- Stop overload thread
    if overloadThread then
        task.cancel(overloadThread)
    end
    
    statusLabel.Text = "Status: Stopped"
    statusLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
    startButton.Visible = true
    stopButton.Visible = false
    kickButton.Visible = false
    
    print("‚õî [Server Stress Tester] Stopped")
end

-- Function to kick player
local function kickPlayer()
    print("üëã [Kick] Kicking player...")
    player:Kick("‚úÖ Manual Kick - Stress Test Complete")
end

-- Button handlers
startButton.MouseButton1Click:Connect(startTest)
stopButton.MouseButton1Click:Connect(stopTest)
kickButton.MouseButton1Click:Connect(kickPlayer)

print("‚úÖ [Server Stress Tester v2] Loaded!")
print("üì± [Mode] Continuous Server Overload")
print("‚ÑπÔ∏è  Click 'Start' to begin testing")
